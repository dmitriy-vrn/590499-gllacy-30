const sitePage = document.querySelector(".site-wrapper"),
  sliderBtnOne = document.querySelector(".slider-btn-one"),
  sliderBtnTwo = document.querySelector(".slider-btn-two"),
  sliderBtnThree = document.querySelector(".slider-btn-three"),
  feedbackLink = document.querySelector(".feedback-btn"),
  loginPopup = document.querySelector(".modal-login"),
  loginModal = document.querySelector(".modal-wrapper"),
  closeBtn = loginPopup.querySelector(".modal-close"),
  modalForm = loginPopup.querySelector(".modal-form"),
  loginName = loginPopup.querySelector(".modal-input-name"),
  loginEmail = loginPopup.querySelector(".modal-input-email");
let isStorageSupport = !0,
  storage = "";
sliderBtnOne.addEventListener("click", function () {
  sliderBtnThree.classList.remove("current"),
    sliderBtnTwo.classList.remove("current"),
    sliderBtnOne.classList.add("current"),
    sitePage.classList.remove("site-wrapper-2"),
    sitePage.classList.remove("site-wrapper-3"),
    sitePage.classList.add("site-wrapper-1");
}),
  sliderBtnTwo.addEventListener("click", function () {
    sliderBtnOne.classList.remove("current"),
      sliderBtnThree.classList.remove("current"),
      sliderBtnTwo.classList.add("current"),
      sitePage.classList.remove("site-wrapper-1"),
      sitePage.classList.remove("site-wrapper-3"),
      sitePage.classList.add("site-wrapper-2");
  }),
  sliderBtnThree.addEventListener("click", function () {
    sliderBtnOne.classList.remove("current"),
      sliderBtnTwo.classList.remove("current"),
      sliderBtnThree.classList.add("current"),
      sitePage.classList.remove("site-wrapper-1"),
      sitePage.classList.remove("site-wrapper-2"),
      sitePage.classList.add("site-wrapper-3");
  });
try {
  storage = localStorage.getItem("email");
} catch (e) {
  isSorageSupport = !1;
}
feedbackLink.addEventListener("click", function (e) {
  e.preventDefault(),
    loginPopup.classList.add("modal-show"),
    storage
      ? ((loginEmail.value = storage), loginEmail.focus())
      : loginName.focus();
}),
  closeBtn.addEventListener("click", function (e) {
    e.preventDefault(),
      loginPopup.classList.remove("modal-show"),
      loginModal.classList.remove("modal-error");
  }),
  modalForm.addEventListener("submit", function (e) {
    loginName.value && loginEmail.value
      ? isStorageSupport && localStorage.setItem("email", loginEmail.value)
      : (e.preventDefault(),
        loginModal.classList.remove("modal-error"),
        (loginModal.offsetWidth = loginPopup.offsetWidth),
        loginModal.classList.add("modal-error"));
  }),
  window.addEventListener("keydown", function (e) {
    27 === e.keyCode &&
      loginPopup.classList.contains("modal-show") &&
      (e.preventDefault(),
      loginPopup.classList.remove("modal-show"),
      loginModal.classList.add("modal-error"));
  });
